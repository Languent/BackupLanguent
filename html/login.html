<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Login</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/login.css">
	<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>
	<div class="container">
		<div class="content first-content">
			<div class="first-column">
				<h2 class="title title-primary">Seja bem vindo!</h2>
				<p class="description description-primary">Já tem uma conta?</p>
				<p class="description description-primary">Clique aqui para fazer o login</p>
				<button id="signin" class="btn btn-primary">entrar</button>
			</div>
			<div class="second-column">
				<h2 class="title title-second"> Crie sua conta com: </h2>
				<div class="social-media">
					<ul class="list-social-media">
						<a class="link-social-media" href="#">
							<li class="item-social-media"><i class="fab fa-facebook-f"></i></li>
						</a>
						<!-- Botão personalizado com aparência antiga -->
						<li class="link-social-media" id="google-login-button" style="cursor: pointer;">
							<div id="g_id_onload"
								data-client_id="683123440343-21kie9quc4ge1cgbg854oi6ogbpl91ft.apps.googleusercontent.com"
								data-callback="handleCredentialResponse" data-auto_prompt="false">
							</div>

							<div class="g_id_signin" data-type="icon" data-shape="circle" data-theme="filled_black"
								data-size="medium" style="display: inline-block;">
							</div>
						</li>
					</ul>
				</div>
				<p class="description description-second">ou insira suas informações a seguir:</p>
				<form class="form" method="post" action="../php/ClienteController.php">
					<label class="label-input">
						<i class="far fa-user icon-modify"></i>
						<input type="text" placeholder="Nome" name="nome" required>
					</label>
					<label class="label-input">
						<i class="far fa-envelope icon-modify"></i>
						<input type="email" placeholder="Email" name="email" id="email" required>
					</label>
					<label class="label-input">
						<i class="fas fa-lock icon-modify"></i>
						<input type="password" placeholder="Senha" name="senha" required>
					</label>
					<button type="submit" class="btn btn-second">criar</button>
				</form>
			</div><!-- second column -->
		</div><!-- first content -->

		<div class="content second-content">
			<div class="first-column">
				<h2 class="title title-primary">Olá, amigo!</h2>
				<p class="description description-primary">Não tem uma conta?</p>
				<p class="description description-primary">Clique aqui e comece sua jornada conosco</p>
				<button id="signup" class="btn btn-primary">Criar</button>
			</div>
			<div class="second-column">
				<h2 class="title title-second">Faça Login com:</h2>
				<div class="social-media">
					<ul class="list-social-media">
						<a class="link-social-media" href="#">
							<li class="item-social-media"><i class="fab fa-facebook-f"></i></li>
						</a>
						<!-- Botão personalizado com aparência antiga -->
						<li class="link-social-media" id="google-login-button" style="cursor: pointer;">
							<div id="g_id_onload"
								data-client_id="683123440343-21kie9quc4ge1cgbg854oi6ogbpl91ft.apps.googleusercontent.com"
								data-callback="handleCredentialResponse" data-auto_prompt="false">
							</div>

							<div class="g_id_signin" data-type="icon" data-shape="circle" data-theme="filled_black"
								data-size="medium" style="display: inline-block;">
							</div>
						</li>
					</ul>
				</div>
				<p class="description description-second"> ou insira suas informações abaixo:</p>
				<form class="form" method="post" action="../php/logar.php">
					<label class="label-input">
						<i class="far fa-envelope icon-modify"></i>
						<input type="email" placeholder="Email" name="email" required>
					</label>
					<label class="label-input">
						<i class="fas fa-lock icon-modify"></i>
						<input type="password" placeholder="Senha" name="senha" required>
					</label>
					<a class="password" href="recuperarSenha.html">Esqueceu sua senha?</a>
					<button type="submit" class="btn btn-second">entrar</button>
				</form>
			</div><!-- second column -->
		</div><!-- second-content -->
	</div>

	<script src="../js/login.js"></script>

	<script>
		function handleCredentialResponse(response) {
			fetch('../php/google-login.php', {
				method: 'POST',
				headers: { 'Content-Type': 'application/json' },
				body: JSON.stringify({ credential: response.credential })
			})
				.then(res => res.json())
				.then(data => {
					if (data.success && data.redirect) {
						window.location.href = data.redirect;
					} else {
						alert('Erro no login com Google.');
					}
				});
		}

	</script>

</body>

</html>